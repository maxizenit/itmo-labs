# Варианты использования

## 1. Регистрация выдачи кредита

1. Пользователь делает запрос на регистрацию выдачи кредита, передавая данные о кредите и клиенте
2. Система регистрирует кредит
3. Система регистрирует или перезаписывает данные банка о клиенте
4. Система выдаёт пользователю информацию о зарегистрированном кредите

**Альтернативы**

2а. Система выдаёт пользователю сообщение о том, что у него нет роли Кредитная организация

## 2. Регистрация просроченного платежа

1. Пользователь делает запрос на регистрацию просроченного платежа, передавая идентификатор кредита, сумму просрочки и
   дату возникновения просрочки
2. Система регистрирует просрочку
3. Система выдаёт пользователю информацию о зарегистрированной просрочке

**Альтернативы**

2а. Система выдаёт пользователю сообщение о том, что у него нет роли Кредитная организация

2б. Система выдаёт пользователю сообщение о том, что он пытается добавить просрочку в чужой кредит

## 3. Регистрация погашения кредита

1. Пользователь делает запрос на погашение кредита, передавая идентификатор кредита и время погашения
2. Система снимает флаг активности кредита, обнуляет оставшуюся сумму и выставляет время погашения
3. Система выставляет время погашения всех непогашенных просрочек как время погашения кредита
4. Система выдаёт пользователю информацию о погашенном кредите

**Альтернативы**

2а. Система выдаёт пользователю сообщение о том, что у него нет роли Кредитная организация

2б. Система выдаёт пользователю сообщение о том, что он пытается редактировать чужой кредит

2в. Система выдаёт пользователю сообщение о том, что кредит не найден

## 4. Получение отчёта о кредитной истории

1. Пользователь делает запрос на подготовку отчёта о кредитной истории человека, указывая его ИНН
2. Система регистрирует запрос кредитной истории (если пользователь - кредитная организация)
3. Система выдаёт пользователю идентификатор запроса кредитной истории (так как отчёт может готовиться долго)
4. Пользователь делает запрос отчёта о кредитной истории человека, указывая идентификатор запроса
5. Система выдаёт пользователю отчёт о кредитной истории

**Альтернативы**

2а. Система выдаёт пользователю сообщение о том, что он не имеет необходимой роли для просмотра кредитной истории

2б. Система выдаёт пользователю сообщение о том, что он пытается получить чужой кредитный отчёт, имея роль Клиент

5а. Система выдаёт пользователю сообщение о том, что отчёт ещё не готов
